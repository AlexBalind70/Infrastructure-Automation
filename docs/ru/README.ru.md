# Infrastructure Automation

–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç Ansible playbooks –∏ –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã  
–¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–æ–≤ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã.

**–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏:**
  - [–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ MasterProxy](#master-proxy)
  - [—É—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker, Docker Compose](#docker-install)
  - [—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏](#users-management)
  - [–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ SSH](#ssh-security-hardening)
  - [—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx](#nginx-setup)
  - [—É—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥—Ä–∞–π–≤–µ—Ä–æ–≤ Nvidia GPU –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö](#—É—Å—Ç–∞–Ω–æ–≤–∫–∞-–¥—Ä–∞–π–≤–µ—Ä–æ–≤-nvidia-gpu)


## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```text
src/
‚îú‚îÄ‚îÄ ansible-docker-install/         # Docker —É—Å—Ç–∞–Ω–æ–≤–∫–∞/–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ ansible-gpu-setup               # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥—Ä–∞–π–≤–µ—Ä–æ–≤ –¥–ª—è GPU Nvidia
‚îú‚îÄ‚îÄ ansible-master-proxy            # Master-proxy
‚îú‚îÄ‚îÄ ansible-nginx-setup             # —É—Å—Ç–∞–Ω–æ–≤–∫–∞/–Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx
‚îú‚îÄ‚îÄ ansible-ssh-configuration       # SSH Security Hardening
‚îú‚îÄ‚îÄ ansible-users-management        # Users management
‚îî‚îÄ‚îÄ keys                            # SSH keys for ansible
.env.example                   
add_ansible_keys.sh
ansible.cfg                         # Ansible configuration file
docker-compose.yml
Dockerfile
Makefile
setup-project.sh                    # Script for setup project
```
> üëâ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ ‚Äî –≤ [docs/](docs/ru)

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–î–ª—è —Ä–∞–±–æ—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã:

- Linux / macOS / Windows
- Docker
- Docker Compose
- Git
- SSH-–¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä–∞–º


## –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```bash
git clone <repository-url>
cd server-setup
```

### 2. –°–æ–∑–¥–∞—Ç—å `.env`

–°–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª .env –Ω–∞ –æ—Å–Ω–æ–≤–µ [–ø—Ä–∏–º–µ—Ä–∞](../../.env.example):

```commandline
cp .env.example .env
```
–ò –∑–∞–ø–æ–ª–Ω–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ.


### 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

```commandline
make setup-project
```
> ‚ö†Ô∏è _–ö–æ–º–∞–Ω–¥–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑.
–ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã._


---

## –ü–µ—Ä–≤–∏—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ (–æ—á–µ–Ω—å –≤–∞–∂–Ω—ã–π —Ä–∞–∑–¥–µ–ª)


### –ü–µ—Ä–≤–∏—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º Ansible –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ—Å—Ç—É–ø –ø–æ SSH.

### –®–∞–≥–∏:

1. –î–æ–±–∞–≤–∏—Ç—å –ø—É–±–ª–∏—á–Ω—ã–π SSH-–∫–ª—é—á –∏–∑ `keys/ssh-public-key`  
   –≤ `~/.ssh/authorized_keys` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `root` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç `add_ansible_keys.sh`, —É–∫–∞–∑–∞–≤:
   - IP-–∞–¥—Ä–µ—Å–∞ —Å–µ—Ä–≤–µ—Ä–æ–≤
   - –ø–∞—Ä–æ–ª–∏ root (—Ç–æ–ª—å–∫–æ –¥–ª—è –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞)

3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç:
```bash
bash add_ansible_keys.sh
```

---

## –ó–∞–ø—É—Å–∫ Ansible —á–µ—Ä–µ–∑ Docker Compose (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
–í—Å–µ playbooks –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ make, –∞ —Å–∞–º Ansible —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.
–≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ, —á—Ç–æ–±—ã –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–∞ —Ö–æ—Å—Ç-–º–∞—à–∏–Ω—É (ansible/sshpass/–≤–µ—Ä—Å–∏–∏ –ø–∞–∫–µ—Ç–æ–≤ –∏ —Ç.–¥.) 
–∏ –ø–æ–ª—É—á–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ —É –≤—Å–µ—Ö.

### –ö–∞–∫ —ç—Ç–æ —É—Å—Ç—Ä–æ–µ–Ω–æ

1. **docker-compose.yml** –ø–æ–¥–Ω–∏–º–∞–µ—Ç —Å–µ—Ä–≤–∏—Å `ansible`
2. Dockerfile —Å–æ–±–∏—Ä–∞–µ—Ç –æ–±—Ä–∞–∑ —Å Ansible –∏ –∫–æ–ø–∏—Ä—É–µ—Ç `src/` –≤–Ω—É—Ç—Ä—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
3. Makefile –∑–∞–ø—É—Å–∫–∞–µ—Ç Ansible/Ansible-playbook —á–µ—Ä–µ–∑ `docker compose run`

## –ó–∞–ø—É—Å–∫ playbooks

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞ playbook —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏:

```bash
make users_management.yml
```
–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ Ansible –±—É–¥–µ—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä–∞–º –ø–æ SSH-–∫–ª—é—á—É, –±–µ–∑ –ø–∞—Ä–æ–ª—è.

## –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–≤–∏—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞:

```
make common_first_setup.yml
```

> **–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —É–±–µ–¥–∏—Å—å, —á—Ç–æ:**
> - –∑–∞–ø–æ–ª–Ω–µ–Ω —Ñ–∞–π–ª hosts
> - –∑–∞–¥–∞–Ω—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

---

## Docker Install
Docker —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ Ansible.

- Docker Engine - –∑–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä-
- Docker Compose - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞–º–∏
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker daemon –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ `daemon.json`
- –í–∫–ª—é—á–µ–Ω–∞ —Ä–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤ –∏ BuildKit

> ‚ö†Ô∏è –í–∞–∂–Ω–æ  
> –î–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–µ—Ä—Å–∏–∏ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ 
> —Å –û–° —Ü–µ–ª–µ–≤–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –±—É–¥–µ—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —É–∫–∞–∑–∞—Ç—å –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö [Ansible](../../src/ansible-docker-install/playbooks/docker-install.yml).

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞:  
üìÑ [README.md](README.ansible-docker-install.md)

### –ó–∞–ø—É—Å–∫
```bash
make docker-setup
```

---

## Master Proxy

–í –ø—Ä–æ–µ–∫—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Master Proxy** –Ω–∞ –±–∞–∑–µ Nginx –¥–ª—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
HTTP/HTTPS-—Ç—Ä–∞—Ñ–∏–∫–∞ –∫ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º —Å–µ—Ä–≤–µ—Ä–∞–º –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏
–æ–¥–Ω–æ–≥–æ –ø—É–±–ª–∏—á–Ω–æ–≥–æ IP-–∞–¥—Ä–µ—Å–∞.

> ‚ö†Ô∏è –í–∞–∂–Ω–æ  
> –ù–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–µ **–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ** –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø—Ä–æ–±—Ä–æ—Å –ø–æ—Ä—Ç–æ–≤  
> **80 (HTTP)** –∏ **443 (HTTPS)** –Ω–∞ —Å–µ—Ä–≤–µ—Ä master proxy.

- HTTP (80) - –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ `$host`
- HTTPS (443) -–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –ø–æ SNI (`ssl_preread`)
- SSL-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã —Ö—Ä–∞–Ω—è—Ç—Å—è –Ω–∞ backend-—Å–µ—Ä–≤–µ—Ä–∞—Ö
- –î–æ—Å—Ç—É–ø –º–æ–∂–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å—Å—è –ø–æ IP –∫–ª–∏–µ–Ω—Ç–∞

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞:  
üìÑ [README.md](README.ansible-master-proxy.md)

### –ó–∞–ø—É—Å–∫
```bash
make master-proxy-setup
```


---

## Users Management

–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é Ansible.

- –°–æ–∑–¥–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å —Å–µ—Ä–≤–µ—Ä–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—è–º–∏ sudo
- –î–æ—Å—Ç—É–ø –ø–æ SSH —Å –ø–æ–º–æ—â—å—é –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∫–ª—é—á–µ–π
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–ª—å–∫–æ —Å –ø–æ–º–æ—â—å—é –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö (–±–µ–∑ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞)


–î–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –≤ [—Ñ–∞–π–ª–µ](../../src/ansible-users-management/vars/secret.example.yml):
- `username` - –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `present_servers` - –≥—Ä—É–ø–ø—ã —Ö–æ—Å—Ç–æ–≤, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å
- `absent_servers` - –≥—Ä—É–ø–ø—ã —Ö–æ—Å—Ç–æ–≤, –æ—Ç–∫—É–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–¥–∞–ª–µ–Ω


–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞:
üìÑ [README.md](README.ansible-users-management.md)

### –ó–∞–ø—É—Å–∫
```bash
make users-management
```
---

## SSH Security Hardening

–ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞—â–∏—Ç—ã SSH.

- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –±–µ–ª—ã–º —Å–ø–∏—Å–∫–æ–º IP-–∞–¥—Ä–µ—Å–æ–≤ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –ø–æ SSH 
- –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –≤—Ö–æ–¥–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä —á–µ—Ä–µ–∑ Telegram
- –í–∫–ª—é—á–µ–Ω–∏—è Fail2Ban (–∑–∞—â–∏—Ç–∞ –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞)
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è Fail2Ban –æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞—Ö
- –í–∫–ª—é—á–µ–Ω–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ SSH

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
- –û—Ç–∫–ª—é—á–∏—Ç—å –≤—Ö–æ–¥ –ø–æ –ø–∞—Ä–æ–ª—é –Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ SSH-–∫–ª—é—á–∏
- –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç SSH

> ‚ö†Ô∏è –í–∞–∂–Ω–æ  
> –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è Fail2Ban –æ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞—Ö –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ—Ç–∫–ª—é—á–µ–Ω—ã –∏–∑-–∑–∞ –≤—ã—Å–æ–∫–æ–π —á–∞—Å—Ç–æ—Ç—ã –±—Ä—É—Ç—Ñ–æ—Ä—Å-–∞—Ç–∞–∫ –æ—Ç –±–æ—Ç–æ–≤. 
> –ü—Ä–æ—Å—Ç–æ —É—Å—Ç–∞–Ω–µ—Ç–µ –≤–∏–¥–µ—Ç—å —ç—Ç–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —á–µ—Ä–µ–∑ 3 –º–∏–Ω—É—Ç—ã)

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞:
üìÑ [README.ansible-ssh-configuration.md](README.ansible-ssh-configuration.md)

### –ó–∞–ø—É—Å–∫
```bash
make ssh-conf-setup
```
> ‚ö†Ô∏è –í–ê–ñ–ù–û > –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —É–±–µ–¥–∏—Å—å, —á—Ç–æ —É–∫–∞–∑–∞–Ω—ã —Ç–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞, ID —á–∞—Ç–∞ –∏ ID —Ç–æ–ø–∏–∫–∞ –≤ —Ñ–∞–π–ª–∞—Ö > ([ssh-notify.sh.example](../../src/ansible-ssh-configuration/ssh/ssh-notify.sh.example),  [ssh.conf.example](../../src/ansible-ssh-configuration/ssh/fail2ban/jail.d/ssh.conf.example)) 

---

## Nginx Setup

–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –±–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx

- –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏–ª–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Nginx –¥–æ —É–∫–∞–∑–∞–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏
- –ï–¥–∏–Ω–∞—è –±–∞–∑–æ–≤–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Nginx –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—ã –æ—à–∏–±–æ–∫ –≤ –∫–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–æ–º —Å—Ç–∏–ª–µ
- –ì–ª–∞–≤–Ω–∞—è HTML-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å —Å—Å—ã–ª–∫–æ–π –Ω–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —Å–∞–π—Ç –∏ –ø–æ—á—Ç–æ–π –¥–ª—è —Å–≤—è–∑–∏
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –±–∞–∑–æ–≤–∞—è –∑–∞—â–∏—Ç–∞
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤ –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- `server_tokens off` ‚Äî —Å–∫—Ä—ã—Ç–∏–µ –≤–µ—Ä—Å–∏–∏ Nginx
- –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–µ –ª–∏–º–∏—Ç—ã —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤ –∏ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ worker-–ø—Ä–æ—Ü–µ—Å—Å—ã –∏ —Å–µ—Ç–µ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

> ‚ö†Ô∏è –í–∞–∂–Ω–æ  
> –î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –æ—à–∏–±–æ–∫ –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö (–¥–æ–º–µ–Ω–∞—Ö) –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å:  
> `include snippets/custom_errors.conf;`

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞:
üìÑ [README.md](README.nginx-setup.md)

### –ó–∞–ø—É—Å–∫
```bash
make nginx-setup
```
---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥—Ä–∞–π–≤–µ—Ä–æ–≤ NVIDIA GPU

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –¥—Ä–∞–π–≤–µ—Ä—ã NVIDIA –∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç Docker 
–¥–ª—è —Ä–∞–±–æ—Ç—ã —Å GPU —á–µ—Ä–µ–∑ nvidia-docker2. –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—É—é 
–≤–µ—Ä—Å–∏—é –¥—Ä–∞–π–≤–µ—Ä–∞ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Docker –Ω–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö —Å GPU.

1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥—Ä–∞–π–≤–µ—Ä–∞ Nvidia GPU
2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ `nvidia-docker2` –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å GPU –≤ Docker

### –ó–∞–ø—É—Å–∫
```bash
make gpu-setup
```

–ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞:
üìÑ [README.md](README.ansible-gpu-setup.md)

---